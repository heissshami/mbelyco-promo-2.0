<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MBELYCO Promo v2.0 â€” Prototype</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
  <style>
    .metric-change,
    .stage-percentage,
    .funnel-rate,
    [data-lucide="percent"] {
      display: none;
    }
  </style>
  <link rel="stylesheet" href="./styles.css" />
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
  <header class="app-bar">
    <div class="brand">
      <div class="logo">
        <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="40" height="40">
          <defs>
            <style>.cls-1{fill:#1da049;}.cls-2{fill:#033333;}.cls-3{fill:none;stroke:#cd2027;}.cls-3,.cls-4{stroke-miterlimit:10;stroke-width:0.34px;}.cls-4{fill:#fff;stroke:#fff;}</style>
          </defs>
          <rect class="cls-1" width="512" height="512" rx="122.27"/>
          <path class="cls-2" d="M252.35,143.2V263.78h116.7V143.2Zm106,99.68c0,3.73-.85,6.52-2.52,8.38A8.57,8.57,0,0,1,349.6,254a5.06,5.06,0,0,1-.55,0,8.49,8.49,0,0,1-6.54-2.8c-1.7-1.86-2.56-4.65-2.56-8.38V188.69a1.65,1.65,0,0,0-3.24-.42L330.15,214l-6,23.68q-1.55,6-2.52,8.89a12.37,12.37,0,0,1-3.61,5.15,10.61,10.61,0,0,1-7.28,2.33,11.09,11.09,0,0,1-5.93-1.5,10.88,10.88,0,0,1-3.78-3.82,22.26,22.26,0,0,1-2.12-5.16q-.78-2.84-1.58-5.89l-6-23.68-6.56-25.74a1.65,1.65,0,0,0-3.25.42v54.19q0,5.6-2.53,8.38a8.61,8.61,0,0,1-6.7,2.8,3,3,0,0,1-.42,0,8.45,8.45,0,0,1-6.19-2.75q-2.57-2.76-2.57-8.41V165.71q0-6.39,3.38-8.62a13.63,13.63,0,0,1,5.38-2,22.82,22.82,0,0,1,3.72-.27h6.2c3.73,0,6.43.33,8.12,1a7.4,7.4,0,0,1,1.42.76,7,7,0,0,1,2.32,2.83,55.34,55.34,0,0,1,2.76,8.45l12.77,47.51a1.65,1.65,0,0,0,3.18,0l12.76-47.51a57.69,57.69,0,0,1,2.76-8.45,7,7,0,0,1,2.34-2.83,7.32,7.32,0,0,1,1.41-.76c1.68-.66,4.4-1,8.12-1h6.2a22.91,22.91,0,0,1,3.72.27,13.63,13.63,0,0,1,5.38,2c2.24,1.49,3.37,4.36,3.37,8.62Z" transform="translate(0 0)"/>
          <path class="cls-2" d="M405.45,304.62a31.07,31.07,0,0,0-30.57-25.28c-.51,0-1,0-1.55,0a1.72,1.72,0,0,0-.39,0h-3.89v-9.73H252.35v9.73h-3.89a2,2,0,0,0-2,1.94V291a2,2,0,0,0,2,1.94h3.89v7.78a3.9,3.9,0,0,0,3.9,3.89H365.16a3.89,3.89,0,0,0,3.89-3.89V293h5.83a17.65,17.65,0,0,1,11.52,4.32,17.5,17.5,0,0,1-2.48,28.17,17,17,0,0,1-3.72,1.7,17.67,17.67,0,0,1-5.32.82H334.24a4.17,4.17,0,0,0-1.19.17,4.11,4.11,0,0,0-2.9,3.93v32.65a4.09,4.09,0,0,0,4.09,4.09h5.43a4.1,4.1,0,0,0,4.1-4.09V341.57h31.11a31.12,31.12,0,0,0,30.57-36.95Zm-41.26-25.28h-107V273.5h107Z" transform="translate(0 0)"/>
          <rect class="cls-3" x="257.22" y="273.5" width="106.97" height="5.83"/>
          <rect class="cls-4" x="257.22" y="273.5" width="106.97" height="5.83"/>
          <path class="cls-4" d="M358.35,165.71v77.17c0,3.73-.85,6.52-2.52,8.38A8.57,8.57,0,0,1,349.6,254a5.06,5.06,0,0,1-.55,0,8.49,8.49,0,0,1-6.54-2.8c-1.7-1.86-2.56-4.65-2.56-8.38V188.69a1.65,1.65,0,0,0-3.24-.42L330.15,214l-6,23.68q-1.55,6-2.52,8.89a12.37,12.37,0,0,1-3.61,5.15,10.61,10.61,0,0,1-7.28,2.33,11.09,11.09,0,0,1-5.93-1.5,10.88,10.88,0,0,1-3.78-3.82,22.26,22.26,0,0,1-2.12-5.16q-.78-2.84-1.58-5.89l-6-23.68-6.56-25.74a1.65,1.65,0,0,0-3.25.42v54.19q0,5.6-2.53,8.38a8.61,8.61,0,0,1-6.7,2.8,3,3,0,0,1-.42,0,8.45,8.45,0,0,1-6.19-2.75q-2.57-2.76-2.57-8.41V165.71q0-6.39,3.38-8.62a13.63,13.63,0,0,1,5.38-2,22.82,22.82,0,0,1,3.72-.27h6.2c3.73,0,6.43.33,8.12,1a7.4,7.4,0,0,1,1.42.76,7,7,0,0,1,2.32,2.83,55.34,55.34,0,0,1,2.76,8.45l12.77,47.51a1.65,1.65,0,0,0,3.18,0l12.76-47.51a57.69,57.69,0,0,1,2.76-8.45,7,7,0,0,1,2.34-2.83,7.32,7.32,0,0,1,1.41-.76c1.68-.66,4.4-1,8.12-1h6.2a22.91,22.91,0,0,1,3.72.27,13.63,13.63,0,0,1,5.38,2C357.22,158.58,358.35,161.45,358.35,165.71Z" transform="translate(0 0)"/>
          <path class="cls-2" d="M149.37,279.34c-.06,1.45-.1,2.91-.1,4.37q0,4.68.44,9.24a95.17,95.17,0,0,0,1.82,11.67A96.58,96.58,0,0,0,159.9,328a97.73,97.73,0,0,0,28.92,34,95.82,95.82,0,0,0,10.59,6.8H134.68q-2.53-3.32-4.87-6.8a139.62,139.62,0,0,1-22.26-57.38c-.46-3-.81-6.06-1.06-9.13q-.49-5.82-.49-11.78t.49-11.77c.06-.78.13-1.55.21-2.33.32-3.27.76-6.52,1.31-9.72.34-2,.71-3.91,1.13-5.83a140.73,140.73,0,0,1,81.23-99.19A138.55,138.55,0,0,1,206.32,149a140.41,140.41,0,0,1,40.2-5.83v43.27a97.29,97.29,0,0,0-92.64,67.59c-.62,1.91-1.17,3.86-1.67,5.83a97.72,97.72,0,0,0-2.84,19.45Z" transform="translate(0 0)"/>
          <path class="cls-4" d="M324.31,328V368.8H213.05A90.59,90.59,0,0,1,199.3,362a91.8,91.8,0,0,1-32.79-34Z" transform="translate(0 0)"/>
        </svg>
      </div>
      <div class="title">
        <strong>MBELYCO Promo v2.0</strong>
        <span class="subtitle">Promo Code Management</span>
      </div>
    </div>
    <div class="actions">
      <button id="themeToggle" class="btn ghost" aria-label="Toggle theme">
        <i id="themeIcon" data-lucide="moon"></i>
      </button>
      <div class="user-menu" id="userMenu" style="display: none;">
        <button id="userToggle" class="btn ghost" aria-label="User menu">
          <i data-lucide="user"></i>
          <span id="userName">User</span>
        </button>
        <div class="user-dropdown" id="userDropdown">
          <a href="./change-password.html" style="text-decoration: none; color: inherit;"><button>Change Password</button></a>
          <button id="logoutBtn">Logout</button>
        </div>
      </div>
    </div>
  </header>

   <nav class="tabs" role="tablist" aria-label="Primary">
     <button class="tab active" data-target="dashboard" role="tab" aria-selected="true">Dashboard</button>
     <button class="tab" data-target="batches" role="tab" aria-selected="false">Batches</button>
     <button class="tab" data-target="promo-codes" role="tab" aria-selected="false">Promo Codes</button>
     <button class="tab" data-target="redemptions" role="tab" aria-selected="false">Redemptions</button>
     <button class="tab" data-target="frauds" role="tab" aria-selected="false">Frauds</button>
     <button class="tab" data-target="user-management" role="tab" aria-selected="false">Users</button>
     <button class="tab" data-target="settings" role="tab" aria-selected="false">Settings</button>
   </nav>

  <main id="content">
    <!-- Dashboard -->
    <section id="dashboard" class="view active" aria-labelledby="Dashboard">
      <div class="dashboard-container">
        <!-- Dashboard Header -->
        <div class="dashboard-header">
          <div class="header-content">
            <h1>Dashboard</h1>
            <p class="muted">System overview and key performance indicators</p>
          </div>
          <div class="header-actions">
            <div class="date-range-picker">
              <select id="dashboardDateRange">
                <option value="7d">Last 7 days</option>
                <option value="30d" selected>Last 30 days</option>
                <option value="90d">Last 90 days</option>
                <option value="1y">Last year</option>
              </select>
              <i data-lucide="chevron-down"></i>
            </div>
            <button class="btn ghost" id="refreshDashboard">
              <i data-lucide="refresh-cw"></i>
              Refresh
            </button>
          </div>
        </div>

        <!-- Key Metrics -->
        <div class="metrics-grid">
          <div class="metric-card">
            <div class="metric-icon">
              <i data-lucide="tags"></i>
            </div>
            <div class="metric-content">
              <div class="metric-value" id="kpiTotalCodes">0</div>
              <div class="metric-label">Total Codes</div>
              <div class="metric-change positive">+15.2% from last month</div>
            </div>
          </div>
          <div class="metric-card">
            <div class="metric-icon">
              <i data-lucide="check-circle"></i>
            </div>
            <div class="metric-content">
              <div class="metric-value" id="kpiRedemptions">0</div>
              <div class="metric-label">Redemptions</div>
              <div class="metric-change positive">+12.5% from last month</div>
            </div>
          </div>
          <div class="metric-card">
            <div class="metric-icon">
              <i data-lucide="dollar-sign"></i>
            </div>
            <div class="metric-content">
              <div class="metric-value" id="kpiTotalDisbursed">0</div>
              <div class="metric-label">Total Disbursed</div>
              <div class="metric-change positive">+8.3% from last month</div>
            </div>
          </div>
          <div class="metric-card">
            <div class="metric-icon">
              <i data-lucide="users"></i>
            </div>
            <div class="metric-content">
              <div class="metric-value" id="kpiActiveUsers">0</div>
              <div class="metric-label">Customers</div>
              <div class="metric-change positive">+5.7% from last month</div>
            </div>
          </div>
        </div>

        <!-- Quick Actions Panel -->
        <div class="quick-actions-panel">
          <div class="panel-header">
            <h3>Quick Actions</h3>
            <p class="muted">Frequently used operations</p>
          </div>
          <div class="actions-grid">
            <button class="action-card" data-action="generate">
              <div class="action-icon">
                <i data-lucide="plus-circle"></i>
              </div>
              <div class="action-content">
                <div class="action-title">Generate Codes</div>
                <div class="action-desc">Create new promo codes</div>
              </div>
            </button>
            <button class="action-card" data-action="import">
              <div class="action-icon">
                <i data-lucide="upload"></i>
              </div>
              <div class="action-content">
                <div class="action-title">Import Codes</div>
                <div class="action-desc">Upload from CSV file</div>
              </div>
            </button>
            <button class="action-card" data-action="export">
              <div class="action-icon">
                <i data-lucide="download"></i>
              </div>
              <div class="action-content">
                <div class="action-title">Export Data</div>
                <div class="action-desc">Download reports</div>
              </div>
            </button>
            <button class="action-card" onclick="window.location.href='./verify.html'">
              <div class="action-icon">
                <i data-lucide="check-shield"></i>
              </div>
              <div class="action-content">
                <div class="action-title">Verify Code</div>
                <div class="action-desc">Check promo code validity</div>
              </div>
            </button>
          </div>
        </div>

        <!-- Analytics Section -->
        <div class="analytics-section">







        </div>

        <!-- Activity Feed -->

      </div>
    </section>

    <!-- Batches -->
    <section id="batches" class="view" aria-labelledby="Batches">

      <section class="feature-cards" aria-label="Batch actions">
        <div class="feature-card" data-card-action="generate" role="button" tabindex="0">
          <div class="feature-icon green"><i data-lucide="pen-tool"></i></div>
          <h3>Generate Codes</h3>
          <p>Create up to 100,000 unique promo codes with secure algorithms</p>
        </div>
        <div class="feature-card" data-card-action="import" role="button" tabindex="0">
          <div class="feature-icon cyan"><i data-lucide="file-input"></i></div>
          <h3>Import Codes</h3>
          <p>Upload promo codes from CSV files with validation</p>
          <input type="file" id="importFile" accept=".csv" hidden />
        </div>
        <div class="feature-card" data-card-action="download" role="button" tabindex="0">
          <div class="feature-icon rose"><i data-lucide="download"></i></div>
          <h3>Download Codes</h3>
          <p>Download codes in PDF or CSV format for distribution</p>
        </div>
      </section>

      <section class="batches-controls" aria-label="Batch filters and actions">
        <div class="status-tabs" id="btStatusTabs" role="tablist" aria-label="Batch status filter">
          <button class="status-tab active" data-status="" role="tab" aria-selected="true">All (<span id="btCountAll">0</span>)</button>
          <button class="status-tab" data-status="active" role="tab" aria-selected="false">Active (<span id="btCountActive">0</span>)</button>
          <button class="status-tab" data-status="expired" role="tab" aria-selected="false">Expired (<span id="btCountExpired">0</span>)</button>
          <button class="status-tab" data-status="blocked" role="tab" aria-selected="false">Blocked (<span id="btCountBlocked">0</span>)</button>
        </div>
        <div class="batches-bar">
          <div class="left">
            <div class="search">
              <i data-lucide="search"></i>
              <input id="batchSearch" type="search" placeholder="Search batches..." aria-label="Search batches" />
            </div>
          </div>
          <div class="right">
            <span class="muted"><span id="btItemsCount">0</span> batches</span>
          </div>
        </div>
      </section>

      <div class="table-wrap">
        <table class="table" aria-label="Batches Table">
          <thead>
            <tr>
              <th>Batch Name</th>
              <th>Total Codes</th>
              <th>Amount/Code</th>
              <th>Progress</th>
              <th>Status</th>
              <th>Assigned To</th>
              <th>Expiration</th>
              <th>Download</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="batchesTbody"></tbody>
        </table>
      </div>
    </section>

    <!-- Promo Codes -->
    <section id="promo-codes" class="view" aria-labelledby="Promo Codes">

      <section class="feature-cards" aria-label="Promo code actions">
        <div class="feature-card" id="cardGenerate" role="button" tabindex="0">
          <div class="feature-icon green"><i data-lucide="pen-tool"></i></div>
          <h3>Generate Codes</h3>
          <p>Create up to 100,000 unique promo codes with secure algorithms</p>
        </div>
        <div class="feature-card" id="cardImport" role="button" tabindex="0">
          <div class="feature-icon green"><i data-lucide="file-input"></i></div>
          <h3>Import Codes</h3>
          <p>Upload promo codes from CSV files with validation</p>
        </div>
        <div class="feature-card" id="cardDownload" role="button" tabindex="0">
          <div class="feature-icon green"><i data-lucide="download"></i></div>
          <h3>Download Codes</h3>
          <p>Download codes in PDF or CSV format for distribution</p>
        </div>
      </section>

      <section class="codes-controls" aria-label="Codes filters and actions">
        <div class="status-tabs" id="pcStatusTabs" role="tablist" aria-label="Status filter">
          <button class="status-tab active" data-status="" role="tab" aria-selected="true">All (<span id="pcCountAll">0</span>)</button>
          <button class="status-tab" data-status="active" role="tab" aria-selected="false">Active (<span id="pcCountActive">0</span>)</button>
          <button class="status-tab" data-status="used" role="tab" aria-selected="false">Used (<span id="pcCountUsed">0</span>)</button>
          <button class="status-tab" data-status="redeemed" role="tab" aria-selected="false">Redeemed (<span id="pcCountRedeemed">0</span>)</button>
          <button class="status-tab" data-status="expired" role="tab" aria-selected="false">Expired (<span id="pcCountExpired">0</span>)</button>
          <button class="status-tab" data-status="blocked" role="tab" aria-selected="false">Blocked (<span id="pcCountBlocked">0</span>)</button>
        </div>
        <div class="codes-bar">
          <div class="left">
            <div class="select-wrap">
              <select id="pcBulkSelect" aria-label="Bulk actions">
                <option value="">Bulk actions</option>
                <option value="block">Block</option>
                <option value="delete">Delete</option>
              </select>
              <i data-lucide="chevron-down"></i>
            </div>
            <button class="btn accent" id="pcApplyBulk">Apply</button>
            <div class="search">
              <i data-lucide="search"></i>
              <input id="codesSearch" type="search" placeholder="Search Code" aria-label="Search promo codes" />
            </div>
          </div>
          <div class="right">
            <span class="muted"><span id="pcItemsCount">0</span> codes</span>
            <button class="btn ghost" id="pcPagePrev" aria-label="Previous page">â€¹</button>
            <span class="muted"><span id="pcPageIndex">1</span></span>
            <span class="muted">of <span id="pcPageTotal">1</span></span>
            <button class="btn ghost" id="pcPageNext" aria-label="Next page">â€º</button>
          </div>
        </div>
      </section>
      <div class="table-wrap">
        <table class="table" aria-label="Promo Codes Table">
          <thead>
            <tr>
              <th><input id="codesSelectAll" type="checkbox" aria-label="Select all" /></th>
              <th>Code</th>
              <th>Amount</th>
              <th>Batch</th>
              <th>Status</th>
              <th>Expiration</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="codesTbody"></tbody>
        </table>
      </div>
     </section>

     <!-- Redemptions -->
     <section id="redemptions" class="view" aria-labelledby="Redemptions">
       <div class="redemptions-container">
         <!-- Redemptions Header -->
         <div class="redemptions-header">
           <div class="header-content">
             <h1>Redemptions</h1>
             <p class="muted">Track and manage promo code redemptions and transactions</p>
           </div>
           <div class="header-actions">
             <button class="btn primary" id="processRedemptions">
               <i data-lucide="refresh-cw"></i>
               Process Pending
             </button>
             <button class="btn ghost" id="exportRedemptions">
               <i data-lucide="download"></i>
               Export Data
             </button>
           </div>
         </div>

         <!-- Redemption Metrics -->
         <div class="redemption-metrics">
           <div class="metrics-grid">
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="check-circle"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="totalRedemptions">0</div>
                 <div class="metric-label">Total Redemptions</div>
                 <div class="metric-change positive">+12.5% from last month</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="clock"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="pendingRedemptions">0</div>
                 <div class="metric-label">Pending</div>
                 <div class="metric-change neutral">Awaiting processing</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="x-circle"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="failedRedemptions">0</div>
                 <div class="metric-label">Failed</div>
                 <div class="metric-change negative">+3 from yesterday</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="percent"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="successRate">0</div>
                 <div class="metric-label">Success Rate</div>
                 <div class="metric-change positive">+1.2% from last week</div>
               </div>
             </div>
           </div>
         </div>

         <!-- Redemption Controls -->
         <div class="redemption-controls">
           <div class="status-tabs" id="redemptionStatusTabs" role="tablist" aria-label="Redemption status filter">
             <button class="status-tab active" data-status="" role="tab" aria-selected="true">All (<span id="redemptionCountAll">2,915</span>)</button>
             <button class="status-tab" data-status="completed" role="tab" aria-selected="false">Completed (<span id="redemptionCountCompleted">2,847</span>)</button>
             <button class="status-tab" data-status="pending" role="tab" aria-selected="false">Pending (<span id="redemptionCountPending">23</span>)</button>
             <button class="status-tab" data-status="failed" role="tab" aria-selected="false">Failed (<span id="redemptionCountFailed">45</span>)</button>
           </div>
           <div class="redemption-bar">
             <div class="left">
               <div class="search">
                 <i data-lucide="search"></i>
                 <input id="redemptionSearch" type="search" placeholder="Search redemptions..." aria-label="Search redemptions" />
               </div>
               <div class="select-wrap">
                 <select id="redemptionBulkSelect" aria-label="Bulk actions">
                   <option value="">Bulk actions</option>
                   <option value="approve">Approve</option>
                   <option value="reject">Reject</option>
                   <option value="retry">Retry</option>
                   <option value="export">Export</option>
                 </select>
                 <i data-lucide="chevron-down"></i>
               </div>
               <button class="btn accent" id="redemptionApplyBulk">Apply</button>
             </div>
             <div class="right">
               <span class="muted"><span id="redemptionItemsCount">2,915</span> redemptions</span>
               <button class="btn ghost" id="redemptionPagePrev" aria-label="Previous page">â€¹</button>
               <span class="muted"><span id="redemptionPageIndex">1</span></span>
               <span class="muted">of <span id="redemptionPageTotal">1</span></span>
               <button class="btn ghost" id="redemptionPageNext" aria-label="Next page">â€º</button>
             </div>
           </div>
         </div>

         <!-- Redemptions Table -->
         <div class="table-wrap">
           <table class="table" aria-label="Redemptions Table">
             <thead>
               <tr>
                 <th><input id="redemptionsSelectAll" type="checkbox" aria-label="Select all" /></th>
                 <th>Transaction ID</th>
                 <th>Code</th>
                 <th>User</th>
                 <th>Amount</th>
                 <th>Status</th>
                 <th>Date</th>
                 <th>Payment Method</th>
                 <th></th>
               </tr>
             </thead>
             <tbody id="redemptionsTbody">
               <!-- Redemptions will be populated dynamically -->
             </tbody>
           </table>
         </div>
       </div>
     </section>

     <!-- Payments -->
     <section id="payments" class="view" aria-labelledby="Payments">
       <div class="payments-container">
         <!-- Payments Header -->
         <div class="payments-header">
           <div class="header-content">
             <h1>Payments</h1>
             <p class="muted">Monitor disbursement processing and payment transactions</p>
           </div>
           <div class="header-actions">
             <button class="btn primary" id="retryFailedPayments">
               <i data-lucide="refresh-cw"></i>
               Retry Failed
             </button>
             <button class="btn ghost" id="reconcilePayments">
               <i data-lucide="check-circle"></i>
               Reconcile
             </button>
           </div>
         </div>

         <!-- Payment Metrics -->
         <div class="payment-metrics">
           <div class="metrics-grid">
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="dollar-sign"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="totalDisbursed">RWF 14.2M</div>
                 <div class="metric-label">Total Disbursed</div>
                 <div class="metric-change positive">+8.3% from last month</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="clock"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="pendingPayments">RWF 125K</div>
                 <div class="metric-label">Pending</div>
                 <div class="metric-change neutral">Awaiting processing</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="x-circle"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="failedPayments">RWF 45K</div>
                 <div class="metric-label">Failed</div>
                 <div class="metric-change negative">+RWF 5K from yesterday</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="percent"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="paymentSuccessRate">96.8</div>
                 <div class="metric-label">Success Rate</div>
                 <div class="metric-change positive">+0.8% from last week</div>
               </div>
             </div>
           </div>
         </div>

         <!-- Payment Controls -->
         <div class="payment-controls">
           <div class="status-tabs" id="paymentStatusTabs" role="tablist" aria-label="Payment status filter">
             <button class="status-tab active" data-status="" role="tab" aria-selected="true">All (<span id="paymentCountAll">2,915</span>)</button>
             <button class="status-tab" data-status="completed" role="tab" aria-selected="false">Completed (<span id="paymentCountCompleted">2,847</span>)</button>
             <button class="status-tab" data-status="pending" role="tab" aria-selected="false">Pending (<span id="paymentCountPending">23</span>)</button>
             <button class="status-tab" data-status="failed" role="tab" aria-selected="false">Failed (<span id="paymentCountFailed">45</span>)</button>
           </div>
           <div class="payment-bar">
             <div class="left">
               <div class="search">
                 <i data-lucide="search"></i>
                 <input id="paymentSearch" type="search" placeholder="Search payments..." aria-label="Search payments" />
               </div>
               <div class="select-wrap">
                 <select id="paymentBulkSelect" aria-label="Bulk actions">
                   <option value="">Bulk actions</option>
                   <option value="retry">Retry Failed</option>
                   <option value="approve">Approve</option>
                   <option value="reject">Reject</option>
                   <option value="export">Export</option>
                 </select>
                 <i data-lucide="chevron-down"></i>
               </div>
               <button class="btn accent" id="paymentApplyBulk">Apply</button>
             </div>
             <div class="right">
               <span class="muted"><span id="paymentItemsCount">2,915</span> payments</span>
               <button class="btn ghost" id="paymentPagePrev" aria-label="Previous page">â€¹</button>
               <span class="muted"><span id="paymentPageIndex">1</span></span>
               <span class="muted">of <span id="paymentPageTotal">1</span></span>
               <button class="btn ghost" id="paymentPageNext" aria-label="Next page">â€º</button>
             </div>
           </div>
         </div>

         <!-- Payments Table -->
         <div class="table-wrap">
           <table class="table" aria-label="Payments Table">
             <thead>
               <tr>
                 <th><input id="paymentsSelectAll" type="checkbox" aria-label="Select all" /></th>
                 <th>Transaction ID</th>
                 <th>User</th>
                 <th>Amount</th>
                 <th>Status</th>
                 <th>Date</th>
                 <th>Payment Method</th>
                 <th>Reference</th>
                 <th></th>
               </tr>
             </thead>
             <tbody id="paymentsTbody">
               <!-- Payments will be populated dynamically -->
             </tbody>
           </table>
         </div>
       </div>
     </section>

     <!-- Frauds -->
     <section id="frauds" class="view" aria-labelledby="Frauds">
       <div class="frauds-container">
         <!-- Frauds Header -->
         <div class="frauds-header">
           <div class="header-content">
             <h1>Fraud Management</h1>
             <p class="muted">Monitor security threats and manage fraud investigations</p>
           </div>
           <div class="header-actions">
             <button class="btn primary" id="createFraudReport">
               <i data-lucide="shield-alert"></i>
               Report Fraud
             </button>
             <button class="btn ghost" id="exportFraudData">
               <i data-lucide="download"></i>
               Export Data
             </button>
           </div>
         </div>

         <!-- Fraud Metrics -->
         <div class="fraud-metrics">
           <div class="metrics-grid">
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="shield-alert"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="totalFraudReports">0</div>
                 <div class="metric-label">Total Reports</div>
                 <div class="metric-change negative">+0 this week</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="clock"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="pendingInvestigations">0</div>
                 <div class="metric-label">Pending</div>
                 <div class="metric-change neutral">Under investigation</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="check-circle"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="resolvedFrauds">0</div>
                 <div class="metric-label">Resolved</div>
                 <div class="metric-change positive">+0 this week</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="trending-down"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="fraudRate">0</div>
                 <div class="metric-label">Fraud Rate</div>
                 <div class="metric-change positive">-0.1% from last month</div>
               </div>
             </div>
           </div>
         </div>

         <!-- Fraud Controls -->
         <div class="fraud-controls">
           <div class="status-tabs" id="fraudStatusTabs" role="tablist" aria-label="Fraud status filter">
             <button class="status-tab active" data-status="" role="tab" aria-selected="true">All (<span id="fraudCountAll">0</span>)</button>
             <button class="status-tab" data-status="pending" role="tab" aria-selected="false">Pending (<span id="fraudCountPending">0</span>)</button>
             <button class="status-tab" data-status="investigating" role="tab" aria-selected="false">Investigating (<span id="fraudCountInvestigating">0</span>)</button>
             <button class="status-tab" data-status="resolved" role="tab" aria-selected="false">Resolved (<span id="fraudCountResolved">0</span>)</button>
           </div>
           <div class="fraud-bar">
             <div class="left">
               <div class="search">
                 <i data-lucide="search"></i>
                 <input id="fraudSearch" type="search" placeholder="Search fraud reports..." aria-label="Search fraud reports" />
               </div>
               <div class="select-wrap">
                 <select id="fraudBulkSelect" aria-label="Bulk actions">
                   <option value="">Bulk actions</option>
                   <option value="investigate">Mark Investigating</option>
                   <option value="resolve">Mark Resolved</option>
                   <option value="dismiss">Dismiss</option>
                   <option value="export">Export</option>
                 </select>
                 <i data-lucide="chevron-down"></i>
               </div>
               <button class="btn accent" id="fraudApplyBulk">Apply</button>
             </div>
             <div class="right">
               <span class="muted"><span id="fraudItemsCount">0</span> reports</span>
               <button class="btn ghost" id="fraudPagePrev" aria-label="Previous page">â€¹</button>
               <span class="muted"><span id="fraudPageIndex">0</span></span>
               <span class="muted">of <span id="fraudPageTotal">0</span></span>
               <button class="btn ghost" id="fraudPageNext" aria-label="Next page">â€º</button>
             </div>
           </div>
         </div>

         <!-- Frauds Table -->
         <div class="table-wrap">
           <table class="table" aria-label="Frauds Table">
             <thead>
               <tr>
                 <th><input id="fraudsSelectAll" type="checkbox" aria-label="Select all" /></th>
                 <th>Report ID</th>
                 <th>Type</th>
                 <th>Description</th>
                 <th>Status</th>
                 <th>Priority</th>
                 <th>Date</th>
                 <th>Reporter</th>
                 <th></th>
               </tr>
             </thead>
             <tbody id="fraudsTbody">
               <!-- Frauds will be populated dynamically -->
             </tbody>
           </table>
         </div>
       </div>
     </section>

     <!-- Alerts -->
     <section id="alerts" class="view" aria-labelledby="Alerts">
       <div class="alerts-container">
         <!-- Alerts Header -->
         <div class="alerts-header">
           <div class="header-content">
             <h1>System Alerts</h1>
             <p class="muted">Monitor system alerts and notifications</p>
           </div>
           <div class="header-actions">
             <button class="btn primary" id="acknowledgeAllAlerts">
               <i data-lucide="check-circle"></i>
               Acknowledge All
             </button>
             <button class="btn ghost" id="configureAlerts">
               <i data-lucide="settings"></i>
               Configure
             </button>
           </div>
         </div>

         <!-- Alert Metrics -->
         <div class="alert-metrics">
           <div class="metrics-grid">
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="bell"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="totalAlerts">24</div>
                 <div class="metric-label">Total Alerts</div>
                 <div class="metric-change neutral">Last 24 hours</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="alert-triangle"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="criticalAlerts">3</div>
                 <div class="metric-label">Critical</div>
                 <div class="metric-change negative">Requires attention</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="info"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="warningAlerts">8</div>
                 <div class="metric-label">Warnings</div>
                 <div class="metric-change neutral">Monitor closely</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="check-circle"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="acknowledgedAlerts">13</div>
                 <div class="metric-label">Acknowledged</div>
                 <div class="metric-change positive">+5 today</div>
               </div>
             </div>
           </div>
         </div>

         <!-- Alert Controls -->
         <div class="alert-controls">
           <div class="status-tabs" id="alertStatusTabs" role="tablist" aria-label="Alert status filter">
             <button class="status-tab active" data-status="" role="tab" aria-selected="true">All (<span id="alertCountAll">24</span>)</button>
             <button class="status-tab" data-status="critical" role="tab" aria-selected="false">Critical (<span id="alertCountCritical">3</span>)</button>
             <button class="status-tab" data-status="warning" role="tab" aria-selected="false">Warning (<span id="alertCountWarning">8</span>)</button>
             <button class="status-tab" data-status="info" role="tab" aria-selected="false">Info (<span id="alertCountInfo">13</span>)</button>
           </div>
           <div class="alert-bar">
             <div class="left">
               <div class="search">
                 <i data-lucide="search"></i>
                 <input id="alertSearch" type="search" placeholder="Search alerts..." aria-label="Search alerts" />
               </div>
               <div class="select-wrap">
                 <select id="alertBulkSelect" aria-label="Bulk actions">
                   <option value="">Bulk actions</option>
                   <option value="acknowledge">Acknowledge</option>
                   <option value="resolve">Mark Resolved</option>
                   <option value="dismiss">Dismiss</option>
                   <option value="export">Export</option>
                 </select>
                 <i data-lucide="chevron-down"></i>
               </div>
               <button class="btn accent" id="alertApplyBulk">Apply</button>
             </div>
             <div class="right">
               <span class="muted"><span id="alertItemsCount">24</span> alerts</span>
               <button class="btn ghost" id="alertPagePrev" aria-label="Previous page">â€¹</button>
               <span class="muted"><span id="alertPageIndex">1</span></span>
               <span class="muted">of <span id="alertPageTotal">1</span></span>
               <button class="btn ghost" id="alertPageNext" aria-label="Next page">â€º</button>
             </div>
           </div>
         </div>

         <!-- Alerts Table -->
         <div class="table-wrap">
           <table class="table" aria-label="Alerts Table">
             <thead>
               <tr>
                 <th><input id="alertsSelectAll" type="checkbox" aria-label="Select all" /></th>
                 <th>Alert ID</th>
                 <th>Type</th>
                 <th>Message</th>
                 <th>Severity</th>
                 <th>Status</th>
                 <th>Date</th>
                 <th>Source</th>
                 <th></th>
               </tr>
             </thead>
             <tbody id="alertsTbody">
               <!-- Alerts will be populated dynamically -->
             </tbody>
           </table>
         </div>
       </div>
     </section>

     <!-- Reports -->
     <section id="reports" class="view" aria-labelledby="Reports">
       <div class="reports-container">
         <!-- Reports Header -->
         <div class="reports-header">
           <div class="header-content">
             <h1>Reports & Analytics</h1>
             <p class="muted">Comprehensive reporting and analytics for system performance and business insights</p>
           </div>
           <div class="header-actions">
             <button class="btn primary" id="generateCustomReport">
               <i data-lucide="file-plus"></i>
               Custom Report
             </button>
             <button class="btn ghost" id="scheduleReport">
               <i data-lucide="clock"></i>
               Schedule Report
             </button>
           </div>
         </div>

         <!-- Real-time Metrics Dashboard -->
         <div class="metrics-dashboard">
           <div class="metrics-grid">
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="trending-up"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="totalRedemptions">2,847</div>
                 <div class="metric-label">Total Redemptions</div>
                 <div class="metric-change positive">+12.5% from last month</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="dollar-sign"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="totalDisbursed">RWF 14.2M</div>
                 <div class="metric-label">Total Disbursed</div>
                 <div class="metric-change positive">+8.3% from last month</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="users"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="activeUsers">0</div>
                 <div class="metric-label">Customers</div>
                 <div class="metric-change positive">+5.7% from last month</div>
               </div>
             </div>
             <div class="metric-card">
               <div class="metric-icon">
                 <i data-lucide="target"></i>
               </div>
               <div class="metric-content">
                 <div class="metric-value" id="conversionRate">68.4%</div>
                 <div class="metric-label">Conversion Rate</div>
                 <div class="metric-change negative">-2.1% from last month</div>
               </div>
             </div>
           </div>
         </div>

         <!-- Report Types -->
         <div class="report-types">
           <div class="report-type-grid">
             <div class="report-type-card" data-report-type="batch-performance">
               <div class="report-icon">
                 <i data-lucide="bar-chart-3"></i>
               </div>
               <h3>Batch Performance</h3>
               <p>Analyze batch performance metrics, redemption rates, and conversion tracking</p>
               <button class="btn ghost">Generate Report</button>
             </div>
             <div class="report-type-card" data-report-type="financial">
               <div class="report-icon">
                 <i data-lucide="credit-card"></i>
               </div>
               <h3>Financial Reports</h3>
               <p>Financial reconciliation, payment tracking, and disbursement analytics</p>
               <button class="btn ghost">Generate Report</button>
             </div>
             <div class="report-type-card" data-report-type="user-engagement">
               <div class="report-icon">
                 <i data-lucide="activity"></i>
               </div>
               <h3>User Engagement</h3>
               <p>User activity patterns, redemption behavior, and engagement metrics</p>
               <button class="btn ghost">Generate Report</button>
             </div>
             <div class="report-type-card" data-report-type="system-performance">
               <div class="report-icon">
                 <i data-lucide="monitor"></i>
               </div>
               <h3>System Performance</h3>
               <p>System health, API performance, and operational metrics</p>
               <button class="btn ghost">Generate Report</button>
             </div>
             <div class="report-type-card" data-report-type="fraud-analysis">
               <div class="report-icon">
                 <i data-lucide="shield-alert"></i>
               </div>
               <h3>Fraud Analysis</h3>
               <p>Fraud detection patterns, suspicious activities, and security metrics</p>
               <button class="btn ghost">Generate Report</button>
             </div>
             <div class="report-type-card" data-report-type="compliance">
               <div class="report-icon">
                 <i data-lucide="file-check"></i>
               </div>
               <h3>Compliance Reports</h3>
               <p>Audit trails, compliance metrics, and regulatory reporting</p>
               <button class="btn ghost">Generate Report</button>
             </div>
           </div>
         </div>

         <!-- Recent Reports -->
         <div class="recent-reports">
           <div class="section-header">
             <h3>Recent Reports</h3>
             <button class="btn ghost" id="viewAllReports">View All</button>
           </div>
           <div class="reports-list" id="recentReportsList">
             <!-- Recent reports will be populated dynamically -->
           </div>
         </div>

         <!-- Quick Analytics -->
         <div class="quick-analytics">
           <div class="analytics-grid">
             <div class="analytics-card">
               <h4>Top Performing Batches</h4>
               <div class="top-batches" id="topBatchesList">
                 <!-- Top batches will be populated dynamically -->
               </div>
             </div>
           </div>
         </div>
       </div>
     </section>

     <!-- User Management -->
    <section id="user-management" class="view" aria-labelledby="User Management">
      <div class="user-management-container">
        <!-- User Management Header -->
        <div class="user-management-header">
          <div class="header-content">
            <h1>User Management</h1>
            <p class="muted">Manage system users, roles, and permissions</p>
          </div>
          <div class="header-actions">
            <button class="btn primary" id="addUserBtn">
              <i data-lucide="user-plus"></i>
              Add User
            </button>
          </div>
        </div>

        <!-- User Management Content -->
        <div class="user-management-content">
          <!-- User Statistics -->
          <div class="user-stats">
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-icon">
                  <i data-lucide="users"></i>
                </div>
                <div class="stat-content">
                  <div class="stat-value" id="totalUsers">7</div>
                  <div class="stat-label">Total Users</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <i data-lucide="shield"></i>
                </div>
                <div class="stat-content">
                  <div class="stat-value" id="adminUsers">3</div>
                  <div class="stat-label">Super Admins</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <i data-lucide="clock"></i>
                </div>
                <div class="stat-content">
                  <div class="stat-value" id="otherusers">1</div>
                  <div class="stat-label">Other Users</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <i data-lucide="user-check"></i>
                </div>
                <div class="stat-content">
                  <div class="stat-value" id="activeUsers">0</div>
                  <div class="stat-label">Customers</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Role Assignment Section -->
          <div class="role-assignment-section">
            <div class="section-header">
              <h3>Role Assignment</h3>
              <p class="muted">Assign or change user roles</p>
            </div>
            <div class="role-assignment-form">
              <div class="form-grid">
                <div class="form-row">
                  <label for="assignUserSelect">Select User</label>
                  <select id="assignUserSelect">
                    <option value="">Choose a user...</option>
                  </select>
                </div>
                <div class="form-row">
                  <label for="assignRoleSelect">Assign Role</label>
                  <select id="assignRoleSelect">
                    <option value="">Choose a role...</option>
                    <option value="super-admin">Super Admin</option>
                    <option value="batch-manager">Batch Manager</option>
                  </select>
                </div>
                <div class="form-row">
                  <button class="btn primary" id="assignRoleBtn">
                    <i data-lucide="user-check"></i>
                    Assign Role
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- User Search and Filters -->
          <div class="user-controls">
            <div class="search-section">
              <div class="search-input-group">
                <i data-lucide="search" class="search-icon"></i>
                <input type="text" id="userSearchInput" placeholder="Search users by name, email, or role..." />
                <button class="search-clear" id="clearUserSearch" style="display: none;">
                  <i data-lucide="x"></i>
                </button>
              </div>
            </div>
            <div class="filter-section">
              <div class="form-row">
                <label for="userRoleFilter">Filter by Role</label>
                <select id="userRoleFilter">
                  <option value="">All Roles</option>
                  <option value="super-admin">Super Admin</option>
                  <option value="batch-manager">Batch Manager</option>
                </select>
              </div>
              <div class="form-row">
                <label for="userStatusFilter">Filter by Status</label>
                <select id="userStatusFilter">
                  <option value="">All Status</option>
                  <option value="active">Active</option>
                  <option value="inactive">Inactive</option>
                  <option value="suspended">Suspended</option>
                </select>
              </div>
              <button class="btn ghost" id="clearFiltersBtn">
                <i data-lucide="filter-x"></i>
                Clear Filters
              </button>
            </div>
          </div>

          <!-- Users Table -->
          <div class="table-wrap">
            <table class="table" aria-label="Users Table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Role</th>
                  <th>Status</th>
                  <th>Last Login</th>
                  <th>Created</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="usersTbody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Settings -->
    <section id="settings" class="view" aria-labelledby="Settings">
      <div class="settings-container">
          <!-- Settings Navigation -->
          <nav class="settings-nav" role="tablist" aria-label="Settings categories">
            <!-- Settings Search -->
            <div class="settings-search">
              <div class="search-input-group">
                <i data-lucide="search" class="search-icon"></i>
                <input type="text" id="settingsSearch" placeholder="Search settings..." />
                <button class="search-clear" id="clearSearch" style="display: none;">
                  <i data-lucide="x"></i>
                </button>
              </div>
            </div>
            
           <button class="settings-nav-item active" data-target="branding" role="tab" aria-selected="true">
             <i data-lucide="palette"></i>
             <span>System Settings</span>
           </button>
           <button class="settings-nav-item" data-target="ussd" role="tab" aria-selected="false">
             <i data-lucide="smartphone"></i>
             <span>USSD Settings</span>
           </button>
           <button class="settings-nav-item" data-target="payments-settings" role="tab" aria-selected="false">
             <i data-lucide="credit-card"></i>
             <span>Payments Settings</span>
           </button>
           <button class="settings-nav-item" data-target="business" role="tab" aria-selected="false">
             <i data-lucide="settings"></i>
             <span>Promo Codes & Redemptions</span>
           </button>
           <button class="settings-nav-item" data-target="notifications" role="tab" aria-selected="false">
             <i data-lucide="bell"></i>
             <span>Alerts & Notifications</span>
           </button>
           <button class="settings-nav-item" data-target="sms-email" role="tab" aria-selected="false">
             <i data-lucide="mail"></i>
             <span>SMS & E-mail</span>
           </button>
           <button class="settings-nav-item" data-target="permissions" role="tab" aria-selected="false">
             <i data-lucide="users"></i>
             <span>Role Permissions</span>
           </button>
           <button class="settings-nav-item" data-target="integrations" role="tab" aria-selected="false">
             <i data-lucide="link"></i>
             <span>Integrations</span>
           </button>
           <button class="settings-nav-item" data-target="security" role="tab" aria-selected="false">
             <i data-lucide="shield"></i>
             <span>Security</span>
           </button>
           <button class="settings-nav-item" data-target="backup" role="tab" aria-selected="false">
             <i data-lucide="database"></i>
             <span>Backup & Maintenance</span>
           </button>
        </nav>

        <!-- Settings Content -->
        <div class="settings-content">
          <!-- Branding & Appearance -->
          <div id="branding" class="settings-panel active">
            <div class="panel-header">
              <h2>Branding & Appearance</h2>
              <p class="muted">Customize your system's look and feel</p>
            </div>
            <div class="panel-body">
              <div class="form-section">
                <h3>Company Information</h3>
                <div class="form-grid">
                  <div class="form-row">
                    <label for="companyName">Company Name</label>
                    <input type="text" id="companyName" value="MBELYCO" />
                  </div>
                  <div class="form-row">
                    <label for="companyTagline">Tagline</label>
                    <input type="text" id="companyTagline" value="Promo Code Management System" />
                  </div>
                  <div class="form-row">
                    <label for="companyEmail">Contact Email</label>
                    <input type="email" id="companyEmail" value="contact@mbelyco.com" />
                  </div>
                  <div class="form-row">
                    <label for="companyPhone">Phone Number</label>
                    <input type="tel" id="companyPhone" value="+250 788 123 456" />
                  </div>
                </div>
              </div>

              <div class="form-section">
                <h3>Color Scheme</h3>
                <div class="form-grid">
                  <div class="form-row">
                    <label for="primaryColor">Primary Color</label>
                    <div class="color-input-group">
                      <input type="color" id="primaryColor" value="#15a000" />
                      <input type="text" id="primaryColorText" value="#15a000" />
                    </div>
                  </div>
                  <div class="form-row">
                    <label for="secondaryColor">Secondary Color</label>
                    <div class="color-input-group">
                      <input type="color" id="secondaryColor" value="#0f7a00" />
                      <input type="text" id="secondaryColorText" value="#0f7a00" />
                    </div>
                  </div>
                  <div class="form-row">
                    <label for="accentColor">Accent Color</label>
                    <div class="color-input-group">
                      <input type="color" id="accentColor" value="#15a000" />
                      <input type="text" id="accentColorText" value="#15a000" />
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>

            <!-- USSD Configuration -->
            <div id="ussd" class="settings-panel">
              <div class="panel-header">
                <h2>USSD Configuration</h2>
                <p class="muted">Configure USSD service settings and menu flow</p>
              </div>
              <div class="panel-body">
                <div class="form-section">
                  <h3>Service Configuration</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="ussdCode">USSD Code</label>
                      <input type="text" id="ussdCode" value="*123#" placeholder="*123#" />
                    </div>
                    <div class="form-row">
                      <label for="ussdProvider">Service Provider</label>
                      <select id="ussdProvider">
                        <option value="mtn">MTN Rwanda</option>
                        <option value="airtel">Airtel Rwanda</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="ussdTimeout">Session Timeout (seconds)</label>
                      <input type="number" id="ussdTimeout" value="30" min="10" max="300" />
                    </div>
                    <div class="form-row">
                      <label for="ussdMaxRetries">Max Retries</label>
                      <input type="number" id="ussdMaxRetries" value="3" min="1" max="10" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Menu Flow Configuration</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="welcomeMessage">Welcome Message</label>
                      <textarea id="welcomeMessage" rows="3" placeholder="Welcome to MBELYCO Promo Codes!">Welcome to MBELYCO Promo Codes!
1. Check Balance
2. Redeem Code
3. Help
0. Exit</textarea>
                    </div>
                    <div class="form-row">
                      <label for="errorMessage">Error Message</label>
                      <textarea id="errorMessage" rows="2" placeholder="Invalid input. Please try again.">Invalid input. Please try again.
Press 0 to go back.</textarea>
                    </div>
                    <div class="form-row">
                      <label for="successMessage">Success Message</label>
                      <textarea id="successMessage" rows="2" placeholder="Operation completed successfully!">Operation completed successfully!
Thank you for using MBELYCO!</textarea>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Security Settings</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Require PIN for Redemption</div>
                        <div class="setting-desc">Users must enter a PIN to redeem promo codes</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="requirePin" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Enable Rate Limiting</div>
                        <div class="setting-desc">Limit requests per user to prevent abuse</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="enableRateLimit" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="rateLimitRequests">Max Requests per Hour</label>
                      <input type="number" id="rateLimitRequests" value="10" min="1" max="100" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Integration Settings</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="ussdApiUrl">USSD API Endpoint</label>
                      <input type="url" id="ussdApiUrl" value="https://api.mbelyco.com/ussd" placeholder="https://api.mbelyco.com/ussd" />
                    </div>
                    <div class="form-row">
                      <label for="ussdApiKey">API Key</label>
                      <input type="password" id="ussdApiKey" placeholder="Enter your API key" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Enable Logging</div>
                        <div class="setting-desc">Log all USSD interactions for debugging</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="enableUssdLogging" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="payments-settings" class="settings-panel">
              <div class="panel-header">
                <h2>Payment Integration</h2>
                <p class="muted">Configure payment providers and processing settings</p>
              </div>
              <div class="panel-body">
                <div class="form-section">
                  <h3>MTN MoMo Configuration</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="momoBaseUrl">Base URL</label>
                      <input type="url" id="momoBaseUrl" value="https://sandbox.momodeveloper.mtn.com" placeholder="https://sandbox.momodeveloper.mtn.com" />
                    </div>
                    <div class="form-row">
                      <label for="momoApiUser">API User</label>
                      <input type="text" id="momoApiUser" placeholder="Enter API User" />
                    </div>
                    <div class="form-row">
                      <label for="momoApiKey">API Key</label>
                      <input type="password" id="momoApiKey" placeholder="Enter API Key" />
                    </div>
                    <div class="form-row">
                      <label for="momoSubscriptionKey">Subscription Key</label>
                      <input type="password" id="momoSubscriptionKey" placeholder="Enter Subscription Key" />
                    </div>
                    <div class="form-row">
                      <label for="momoEnvironment">Environment</label>
                      <select id="momoEnvironment">
                        <option value="sandbox">Sandbox</option>
                        <option value="production">Production</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="momoCurrency">Currency</label>
                      <select id="momoCurrency">
                        <option value="RWF" selected>RWF - Rwandan Franc</option>
                        <option value="USD">USD - US Dollar</option>
                        <option value="EUR">EUR - Euro</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="momoMaxAmount">Max Amount</label>
                      <input type="number" id="momoMaxAmount" value="100000" min="100" max="1000000" />
                    </div>
                    <div class="form-row">
                      <label for="momoMinAmount">Min Amount</label>
                      <input type="number" id="momoMinAmount" value="100" min="10" max="10000" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Payment Processing</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Auto Retry Enabled</div>
                        <div class="setting-desc">Automatically retry failed payment transactions</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="autoRetryEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="maxRetryAttempts">Max Retry Attempts</label>
                      <input type="number" id="maxRetryAttempts" value="3" min="1" max="10" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Manual Approval Required</div>
                        <div class="setting-desc">Require manual approval for transactions above threshold</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="manualApprovalRequired" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="approvalThreshold">Approval Threshold (RWF)</label>
                      <input type="number" id="approvalThreshold" value="50000" min="1000" max="1000000" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Transaction Limits</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="dailyTransactionLimit">Daily Transaction Limit (RWF)</label>
                      <input type="number" id="dailyTransactionLimit" value="1000000" min="10000" max="10000000" />
                    </div>
                    <div class="form-row">
                      <label for="monthlyTransactionLimit">Monthly Transaction Limit (RWF)</label>
                      <input type="number" id="monthlyTransactionLimit" value="30000000" min="100000" max="100000000" />
                    </div>
                    <div class="form-row">
                      <label for="perUserDailyLimit">Per User Daily Limit (RWF)</label>
                      <input type="number" id="perUserDailyLimit" value="100000" min="1000" max="1000000" />
                    </div>
                    <div class="form-row">
                      <label for="perUserMonthlyLimit">Per User Monthly Limit (RWF)</label>
                      <input type="number" id="perUserMonthlyLimit" value="3000000" min="10000" max="10000000" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="business" class="settings-panel">
              <div class="panel-header">
                <h2>Business Logic Configuration</h2>
                <p class="muted">Configure promo code generation and validation rules</p>
              </div>
              <div class="panel-body">
                <div class="form-section">
                  <h3>Promo Code Generation</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="codeFormat">Code Format</label>
                      <input type="text" id="codeFormat" value="XXXX-XXYY-XXMM-XXDD" placeholder="XXXX-XXYY-XXMM-XXDD" />
                    </div>
                    <div class="form-row">
                      <label for="codeLength">Code Length</label>
                      <input type="number" id="codeLength" value="16" min="8" max="32" />
                    </div>
                    <div class="form-row">
                      <label for="characterSet">Character Set</label>
                      <input type="text" id="characterSet" value="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789" placeholder="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789" />
                    </div>
                    <div class="form-row">
                      <label for="codePrefix">Prefix</label>
                      <input type="text" id="codePrefix" value="MBL" placeholder="MBL" />
                    </div>
                    <div class="form-row">
                      <label for="codeSuffix">Suffix</label>
                      <input type="text" id="codeSuffix" placeholder="Optional suffix" />
                    </div>
                    <div class="form-row">
                      <label for="codeSeparator">Separator</label>
                      <input type="text" id="codeSeparator" value="-" placeholder="-" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Include Timestamp</div>
                        <div class="setting-desc">Include timestamp in generated codes</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="includeTimestamp" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Include Checksum</div>
                        <div class="setting-desc">Include checksum for code validation</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="includeChecksum" />
                        <span class="slider"></span>
                      </label>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Code Validation</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Format Validation</div>
                        <div class="setting-desc">Validate code format before processing</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="formatValidation" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Uniqueness Check</div>
                        <div class="setting-desc">Ensure codes are unique across the system</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="uniquenessCheck" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Expiration Check</div>
                        <div class="setting-desc">Check if codes have expired</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="expirationCheck" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Status Check</div>
                        <div class="setting-desc">Validate code status (active/blocked)</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="statusCheck" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Batch Validation</div>
                        <div class="setting-desc">Validate entire batches during import</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="batchValidation" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Expiration Policies</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="defaultExpirationDays">Default Expiration (Days)</label>
                      <input type="number" id="defaultExpirationDays" value="30" min="1" max="365" />
                    </div>
                    <div class="form-row">
                      <label for="maxExpirationDays">Max Expiration (Days)</label>
                      <input type="number" id="maxExpirationDays" value="365" min="30" max="1095" />
                    </div>
                    <div class="form-row">
                      <label for="minExpirationDays">Min Expiration (Days)</label>
                      <input type="number" id="minExpirationDays" value="1" min="1" max="30" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Auto Expire Enabled</div>
                        <div class="setting-desc">Automatically expire codes when date is reached</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="autoExpireEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="gracePeriodHours">Grace Period (Hours)</label>
                      <input type="number" id="gracePeriodHours" value="24" min="0" max="168" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Redemption Rules</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Allow Multiple Redemptions</div>
                        <div class="setting-desc">Allow users to redeem multiple codes</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="allowMultipleRedemptions" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="maxRedemptionsPerUser">Max Redemptions Per User</label>
                      <input type="number" id="maxRedemptionsPerUser" value="1" min="1" max="100" />
                    </div>
                    <div class="form-row">
                      <label for="maxRedemptionsPerCode">Max Redemptions Per Code</label>
                      <input type="number" id="maxRedemptionsPerCode" value="1" min="1" max="10" />
                    </div>
                    <div class="form-row">
                      <label for="cooldownPeriodMinutes">Cooldown Period (Minutes)</label>
                      <input type="number" id="cooldownPeriodMinutes" value="60" min="0" max="1440" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Fraud Detection Enabled</div>
                        <div class="setting-desc">Enable fraud detection for redemptions</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="fraudDetectionEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="security" class="settings-panel">
              <div class="panel-header">
                <h2>Security & Access Control</h2>
                <p class="muted">Configure authentication, authorization, and security policies</p>
              </div>
              <div class="panel-body">
                <div class="form-section">
                  <h3>Authentication</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="sessionTimeout">Session Timeout (Minutes)</label>
                      <input type="number" id="sessionTimeout" value="60" min="5" max="480" />
                    </div>
                    <div class="form-row">
                      <label for="maxLoginAttempts">Max Login Attempts</label>
                      <input type="number" id="maxLoginAttempts" value="5" min="3" max="10" />
                    </div>
                    <div class="form-row">
                      <label for="lockoutDuration">Lockout Duration (Minutes)</label>
                      <input type="number" id="lockoutDuration" value="15" min="5" max="60" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Two-Factor Authentication</div>
                        <div class="setting-desc">Enable 2FA for enhanced security</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="twoFactorEnabled" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">2FA Required</div>
                        <div class="setting-desc">Require 2FA for all users</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="twoFactorRequired" />
                        <span class="slider"></span>
                      </label>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Password Policy</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="minPasswordLength">Minimum Length</label>
                      <input type="number" id="minPasswordLength" value="8" min="6" max="32" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Require Uppercase</div>
                        <div class="setting-desc">Password must contain uppercase letters</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="requireUppercase" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Require Lowercase</div>
                        <div class="setting-desc">Password must contain lowercase letters</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="requireLowercase" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Require Numbers</div>
                        <div class="setting-desc">Password must contain numbers</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="requireNumbers" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Require Special Characters</div>
                        <div class="setting-desc">Password must contain special characters</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="requireSpecialChars" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="passwordMaxAge">Password Max Age (Days)</label>
                      <input type="number" id="passwordMaxAge" value="90" min="30" max="365" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Rate Limiting</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="apiRequestsPerMinute">API Requests per Minute</label>
                      <input type="number" id="apiRequestsPerMinute" value="60" min="10" max="1000" />
                    </div>
                    <div class="form-row">
                      <label for="apiRequestsPerHour">API Requests per Hour</label>
                      <input type="number" id="apiRequestsPerHour" value="1000" min="100" max="10000" />
                    </div>
                    <div class="form-row">
                      <label for="ussdRequestsPerMinute">USSD Requests per Minute</label>
                      <input type="number" id="ussdRequestsPerMinute" value="30" min="5" max="300" />
                    </div>
                    <div class="form-row">
                      <label for="ussdRequestsPerHour">USSD Requests per Hour</label>
                      <input type="number" id="ussdRequestsPerHour" value="500" min="50" max="5000" />
                    </div>
                    <div class="form-row">
                      <label for="loginAttemptsPerMinute">Login Attempts per Minute</label>
                      <input type="number" id="loginAttemptsPerMinute" value="5" min="1" max="20" />
                    </div>
                    <div class="form-row">
                      <label for="fileUploadsPerHour">File Uploads per Hour</label>
                      <input type="number" id="fileUploadsPerHour" value="10" min="1" max="100" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Access Control</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="ipWhitelist">IP Whitelist</label>
                      <textarea id="ipWhitelist" rows="3" placeholder="192.168.1.1&#10;10.0.0.0/8&#10;172.16.0.0/12"></textarea>
                    </div>
                    <div class="form-row">
                      <label for="ipBlacklist">IP Blacklist</label>
                      <textarea id="ipBlacklist" rows="3" placeholder="192.168.1.100&#10;10.0.0.50"></textarea>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Time-Based Access</div>
                        <div class="setting-desc">Restrict access based on time of day</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="timeBasedAccess" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="allowedHours">Allowed Hours (24h format)</label>
                      <input type="text" id="allowedHours" value="08:00-18:00" placeholder="08:00-18:00" />
                    </div>
                    <div class="form-row">
                      <label for="timezone">Timezone</label>
                      <select id="timezone">
                        <option value="Africa/Kigali" selected>Africa/Kigali</option>
                        <option value="UTC">UTC</option>
                        <option value="Africa/Nairobi">Africa/Nairobi</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Audit & Monitoring</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Log All Actions</div>
                        <div class="setting-desc">Log all user actions for audit trail</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="logAllActions" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Log Failed Attempts</div>
                        <div class="setting-desc">Log all failed authentication attempts</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="logFailedAttempts" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Log Data Changes</div>
                        <div class="setting-desc">Log all data modifications</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="logDataChanges" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="retentionDays">Log Retention (Days)</label>
                      <input type="number" id="retentionDays" value="90" min="7" max="365" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Real-Time Alerts</div>
                        <div class="setting-desc">Send real-time security alerts</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="realTimeAlerts" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="sms-email" class="settings-panel">
              <div class="panel-header">
                <h2>SMS and E-mail</h2>
                <p class="muted">Configure SMS and email providers, templates, and delivery settings</p>
              </div>
              <div class="panel-body">
                <div class="form-section">
                  <h3>Email Configuration</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Email Enabled</div>
                        <div class="setting-desc">Enable email notifications</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="emailEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="emailProvider">Email Provider</label>
                      <select id="emailProvider">
                        <option value="smtp">SMTP</option>
                        <option value="sendgrid">SendGrid</option>
                        <option value="mailgun">Mailgun</option>
                        <option value="ses">Amazon SES</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="smtpHost">SMTP Host</label>
                      <input type="text" id="smtpHost" placeholder="smtp.gmail.com" />
                    </div>
                    <div class="form-row">
                      <label for="smtpPort">SMTP Port</label>
                      <input type="number" id="smtpPort" value="587" min="1" max="65535" />
                    </div>
                    <div class="form-row">
                      <label for="smtpUsername">SMTP Username</label>
                      <input type="text" id="smtpUsername" placeholder="your-email@gmail.com" />
                    </div>
                    <div class="form-row">
                      <label for="smtpPassword">SMTP Password</label>
                      <input type="password" id="smtpPassword" placeholder="Your email password" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Use SSL/TLS</div>
                        <div class="setting-desc">Enable secure connection</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="smtpSecure" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="fromEmail">From Email</label>
                      <input type="email" id="fromEmail" value="noreply@mbelyco.com" placeholder="noreply@mbelyco.com" />
                    </div>
                    <div class="form-row">
                      <label for="fromName">From Name</label>
                      <input type="text" id="fromName" value="MBELYCO System" placeholder="MBELYCO System" />
                    </div>
                    <div class="form-row">
                      <label for="replyTo">Reply To</label>
                      <input type="email" id="replyTo" value="support@mbelyco.com" placeholder="support@mbelyco.com" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>SMS Configuration</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">SMS Enabled</div>
                        <div class="setting-desc">Enable SMS notifications</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="smsEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="smsProvider">SMS Provider</label>
                      <select id="smsProvider">
                        <option value="africas_talking">Africa's Talking</option>
                        <option value="twilio">Twilio</option>
                        <option value="custom">Custom Provider</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="smsApiKey">API Key</label>
                      <input type="password" id="smsApiKey" placeholder="Enter SMS API key" />
                    </div>
                    <div class="form-row">
                      <label for="smsUsername">Username</label>
                      <input type="text" id="smsUsername" placeholder="Enter SMS username" />
                    </div>
                    <div class="form-row">
                      <label for="fromNumber">From Number</label>
                      <input type="text" id="fromNumber" value="+250788123456" placeholder="+250788123456" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Email Templates</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="welcomeEmailTemplate">Welcome Email Template</label>
                      <textarea id="welcomeEmailTemplate" rows="4" placeholder="Welcome to MBELYCO! Your account has been created successfully.">Welcome to MBELYCO!

Your account has been created successfully. You can now access the system and manage promo codes.

Best regards,
MBELYCO Team</textarea>
                    </div>
                    <div class="form-row">
                      <label for="promoCodeEmailTemplate">Promo Code Email Template</label>
                      <textarea id="promoCodeEmailTemplate" rows="4" placeholder="Your promo code is ready!">Hello {{user_name}},

Your promo code {{promo_code}} is ready for use!

Amount: {{amount}} RWF
Expires: {{expiration_date}}

Thank you for using MBELYCO!</textarea>
                    </div>
                    <div class="form-row">
                      <label for="passwordResetEmailTemplate">Password Reset Email Template</label>
                      <textarea id="passwordResetEmailTemplate" rows="4" placeholder="Reset your password">Hello {{user_name}},

You requested a password reset. Click the link below to reset your password:

{{reset_link}}

This link will expire in 24 hours.

If you didn't request this, please ignore this email.</textarea>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>SMS Templates</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="welcomeSmsTemplate">Welcome SMS Template</label>
                      <textarea id="welcomeSmsTemplate" rows="2" placeholder="Welcome to MBELYCO! Your account is ready.">Welcome to MBELYCO! Your account is ready. Start managing promo codes now!</textarea>
                    </div>
                    <div class="form-row">
                      <label for="promoCodeSmsTemplate">Promo Code SMS Template</label>
                      <textarea id="promoCodeSmsTemplate" rows="2" placeholder="Your promo code is ready!">Your promo code {{promo_code}} is ready! Amount: {{amount}} RWF. Expires: {{expiration_date}}</textarea>
                    </div>
                    <div class="form-row">
                      <label for="otpSmsTemplate">OTP SMS Template</label>
                      <textarea id="otpSmsTemplate" rows="2" placeholder="Your OTP code">Your MBELYCO OTP code is: {{otp_code}}. Valid for 5 minutes.</textarea>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Delivery Settings</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="emailRetryAttempts">Email Retry Attempts</label>
                      <input type="number" id="emailRetryAttempts" value="3" min="1" max="10" />
                    </div>
                    <div class="form-row">
                      <label for="smsRetryAttempts">SMS Retry Attempts</label>
                      <input type="number" id="smsRetryAttempts" value="3" min="1" max="10" />
                    </div>
                    <div class="form-row">
                      <label for="emailDelaySeconds">Email Delay (Seconds)</label>
                      <input type="number" id="emailDelaySeconds" value="5" min="1" max="60" />
                    </div>
                    <div class="form-row">
                      <label for="smsDelaySeconds">SMS Delay (Seconds)</label>
                      <input type="number" id="smsDelaySeconds" value="2" min="1" max="30" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Queue Messages</div>
                        <div class="setting-desc">Queue messages for batch processing</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="queueMessages" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Track Delivery</div>
                        <div class="setting-desc">Track message delivery status</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="trackDelivery" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="notifications" class="settings-panel">
              <div class="panel-header">
                <h2>Alerts & Notifications</h2>
                <p class="muted">Configure alert thresholds and notification settings</p>
              </div>
              <div class="panel-body">

                <div class="form-section">
                  <h3>Webhook Configuration</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Webhooks Enabled</div>
                        <div class="setting-desc">Enable webhook notifications</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="webhooksEnabled" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="webhookUrl">Webhook URL</label>
                      <input type="url" id="webhookUrl" placeholder="https://your-server.com/webhook" />
                    </div>
                    <div class="form-row">
                      <label for="webhookSecret">Webhook Secret</label>
                      <input type="password" id="webhookSecret" placeholder="Enter webhook secret" />
                    </div>
                    <div class="form-row">
                      <label for="webhookRetryAttempts">Retry Attempts</label>
                      <input type="number" id="webhookRetryAttempts" value="3" min="1" max="10" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Alert Thresholds</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Low Balance Alert</div>
                        <div class="setting-desc">Alert when system balance is low</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="lowBalanceAlert" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="lowBalanceThreshold">Low Balance Threshold (RWF)</label>
                      <input type="number" id="lowBalanceThreshold" value="100000" min="1000" max="1000000" />
                    </div>
                    <div class="form-row">
                      <label for="lowBalanceRecipients">Alert Recipients</label>
                      <textarea id="lowBalanceRecipients" rows="2" placeholder="admin@mbelyco.com&#10;finance@mbelyco.com"></textarea>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">High Failure Rate Alert</div>
                        <div class="setting-desc">Alert when failure rate is high</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="highFailureRateAlert" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="failureRateThreshold">Failure Rate Threshold (%)</label>
                      <input type="number" id="failureRateThreshold" value="10" min="1" max="50" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">System Down Alert</div>
                        <div class="setting-desc">Alert when system is down</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="systemDownAlert" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="systemDownRecipients">System Down Recipients</label>
                      <textarea id="systemDownRecipients" rows="2" placeholder="admin@mbelyco.com&#10;devops@mbelyco.com"></textarea>
                    </div>
                  </div>
                </div>
              </div>
            </div>


            <div id="integrations" class="settings-panel">
              <div class="panel-header">
                <h2>Integration Management</h2>
                <p class="muted">Configure API management and third-party integrations</p>
              </div>
              <div class="panel-body">
                <div class="form-section">
                  <h3>API Management</h3>
                  <div class="form-grid">
                    <div class="form-row">
                      <label for="apiBaseUrl">API Base URL</label>
                      <input type="url" id="apiBaseUrl" value="https://api.mbelyco.com" placeholder="https://api.mbelyco.com" />
                    </div>
                    <div class="form-row">
                      <label for="apiVersion">API Version</label>
                      <input type="text" id="apiVersion" value="v1" placeholder="v1" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">API Rate Limiting</div>
                        <div class="setting-desc">Enable rate limiting for API requests</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="apiRateLimiting" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="apiRequestsPerMinute">API Requests per Minute</label>
                      <input type="number" id="apiRequestsPerMinute" value="100" min="10" max="1000" />
                    </div>
                    <div class="form-row">
                      <label for="apiRequestsPerHour">API Requests per Hour</label>
                      <input type="number" id="apiRequestsPerHour" value="1000" min="100" max="10000" />
                    </div>
                    <div class="form-row">
                      <label for="apiAuthType">Authentication Type</label>
                      <select id="apiAuthType">
                        <option value="jwt">JWT</option>
                        <option value="api_key">API Key</option>
                        <option value="oauth">OAuth</option>
                      </select>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">CORS Enabled</div>
                        <div class="setting-desc">Enable Cross-Origin Resource Sharing</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="corsEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="allowedOrigins">Allowed Origins</label>
                      <textarea id="allowedOrigins" rows="2" placeholder="https://mbelyco.com&#10;https://admin.mbelyco.com"></textarea>
                    </div>
                    <div class="form-row">
                      <label for="allowedMethods">Allowed Methods</label>
                      <input type="text" id="allowedMethods" value="GET,POST,PUT,DELETE" placeholder="GET,POST,PUT,DELETE" />
                    </div>
                    <div class="form-row">
                      <label for="allowedHeaders">Allowed Headers</label>
                      <input type="text" id="allowedHeaders" value="Content-Type,Authorization" placeholder="Content-Type,Authorization" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Third-party Integrations</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Payment Gateway Integration</div>
                        <div class="setting-desc">Enable payment gateway integration</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="paymentGatewayEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="paymentGatewayName">Payment Gateway</label>
                      <input type="text" id="paymentGatewayName" value="MTN MoMo" placeholder="MTN MoMo" />
                    </div>
                    <div class="form-row">
                      <label for="paymentGatewayApiKey">Payment API Key</label>
                      <input type="password" id="paymentGatewayApiKey" placeholder="Enter payment API key" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">SMS Gateway Integration</div>
                        <div class="setting-desc">Enable SMS gateway integration</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="smsGatewayEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="smsGatewayName">SMS Gateway</label>
                      <input type="text" id="smsGatewayName" value="Africa's Talking" placeholder="Africa's Talking" />
                    </div>
                    <div class="form-row">
                      <label for="smsGatewayApiKey">SMS API Key</label>
                      <input type="password" id="smsGatewayApiKey" placeholder="Enter SMS API key" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Email Service Integration</div>
                        <div class="setting-desc">Enable email service integration</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="emailServiceEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="emailServiceName">Email Service</label>
                      <input type="text" id="emailServiceName" value="SendGrid" placeholder="SendGrid" />
                    </div>
                    <div class="form-row">
                      <label for="emailServiceApiKey">Email API Key</label>
                      <input type="password" id="emailServiceApiKey" placeholder="Enter email API key" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Data Synchronization</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Data Sync Enabled</div>
                        <div class="setting-desc">Enable data synchronization</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="dataSyncEnabled" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="syncFrequency">Sync Frequency</label>
                      <select id="syncFrequency">
                        <option value="realtime">Real-time</option>
                        <option value="hourly">Hourly</option>
                        <option value="daily">Daily</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="syncDirection">Sync Direction</label>
                      <select id="syncDirection">
                        <option value="inbound">Inbound Only</option>
                        <option value="outbound">Outbound Only</option>
                        <option value="bidirectional">Bidirectional</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="syncEndpoint">Sync Endpoint</label>
                      <input type="url" id="syncEndpoint" placeholder="https://external-system.com/api/sync" />
                    </div>
                    <div class="form-row">
                      <label for="syncApiKey">Sync API Key</label>
                      <input type="password" id="syncApiKey" placeholder="Enter sync API key" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="backup" class="settings-panel">
              <div class="panel-header">
                <h2>Backup & Maintenance</h2>
                <p class="muted">Configure backup schedules and system maintenance</p>
              </div>
              <div class="panel-body">
                <div class="form-section">
                  <h3>Database Backup</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Database Backup Enabled</div>
                        <div class="setting-desc">Enable automated database backups</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="databaseBackupEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="backupFrequency">Backup Frequency</label>
                      <select id="backupFrequency">
                        <option value="hourly">Hourly</option>
                        <option value="daily" selected>Daily</option>
                        <option value="weekly">Weekly</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="backupRetention">Backup Retention (Days)</label>
                      <input type="number" id="backupRetention" value="30" min="7" max="365" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Compression</div>
                        <div class="setting-desc">Compress backup files</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="backupCompression" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Encryption</div>
                        <div class="setting-desc">Encrypt backup files</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="backupEncryption" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="backupStorage">Storage Type</label>
                      <select id="backupStorage">
                        <option value="local">Local Storage</option>
                        <option value="s3">Amazon S3</option>
                        <option value="gcs">Google Cloud Storage</option>
                        <option value="azure">Azure Blob Storage</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="backupStoragePath">Storage Path</label>
                      <input type="text" id="backupStoragePath" value="/backups" placeholder="/backups" />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>File Backup</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">File Backup Enabled</div>
                        <div class="setting-desc">Enable automated file backups</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="fileBackupEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="fileBackupFrequency">File Backup Frequency</label>
                      <select id="fileBackupFrequency">
                        <option value="daily" selected>Daily</option>
                        <option value="weekly">Weekly</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="fileBackupRetention">File Backup Retention (Days)</label>
                      <input type="number" id="fileBackupRetention" value="90" min="7" max="365" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Include Uploads</div>
                        <div class="setting-desc">Include user uploads in backup</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="includeUploads" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Include Logs</div>
                        <div class="setting-desc">Include system logs in backup</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="includeLogs" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Include Config</div>
                        <div class="setting-desc">Include configuration files in backup</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="includeConfig" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>System Maintenance</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Maintenance Enabled</div>
                        <div class="setting-desc">Enable automated system maintenance</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="maintenanceEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="maintenanceDay">Maintenance Day</label>
                      <select id="maintenanceDay">
                        <option value="sunday">Sunday</option>
                        <option value="monday">Monday</option>
                        <option value="tuesday">Tuesday</option>
                        <option value="wednesday">Wednesday</option>
                        <option value="thursday">Thursday</option>
                        <option value="friday">Friday</option>
                        <option value="saturday" selected>Saturday</option>
                      </select>
                    </div>
                    <div class="form-row">
                      <label for="maintenanceTime">Maintenance Time</label>
                      <input type="time" id="maintenanceTime" value="02:00" />
                    </div>
                    <div class="form-row">
                      <label for="maintenanceTimezone">Timezone</label>
                      <select id="maintenanceTimezone">
                        <option value="Africa/Kigali" selected>Africa/Kigali</option>
                        <option value="UTC">UTC</option>
                        <option value="Africa/Nairobi">Africa/Nairobi</option>
                      </select>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Cleanup Logs</div>
                        <div class="setting-desc">Clean up old log files</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="cleanupLogs" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Optimize Database</div>
                        <div class="setting-desc">Optimize database performance</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="optimizeDatabase" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Clear Cache</div>
                        <div class="setting-desc">Clear system cache</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="clearCache" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Update Statistics</div>
                        <div class="setting-desc">Update database statistics</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="updateStatistics" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Before Maintenance Notification</div>
                        <div class="setting-desc">Notify before maintenance starts</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="beforeMaintenanceNotification" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">After Maintenance Notification</div>
                        <div class="setting-desc">Notify after maintenance completes</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="afterMaintenanceNotification" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Failure Notification</div>
                        <div class="setting-desc">Notify on maintenance failure</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="failureNotification" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="maintenanceRecipients">Maintenance Recipients</label>
                      <textarea id="maintenanceRecipients" rows="2" placeholder="admin@mbelyco.com&#10;devops@mbelyco.com"></textarea>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>System Monitoring</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Monitoring Enabled</div>
                        <div class="setting-desc">Enable system monitoring</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="monitoringEnabled" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Database Monitoring</div>
                        <div class="setting-desc">Monitor database health</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="databaseMonitoring" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Redis Monitoring</div>
                        <div class="setting-desc">Monitor Redis cache</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="redisMonitoring" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">External APIs Monitoring</div>
                        <div class="setting-desc">Monitor external API health</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="externalApisMonitoring" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Disk Space Monitoring</div>
                        <div class="setting-desc">Monitor disk space usage</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="diskSpaceMonitoring" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Memory Usage Monitoring</div>
                        <div class="setting-desc">Monitor memory usage</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="memoryUsageMonitoring" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="diskSpaceThreshold">Disk Space Threshold (%)</label>
                      <input type="number" id="diskSpaceThreshold" value="80" min="50" max="95" />
                    </div>
                    <div class="form-row">
                      <label for="memoryUsageThreshold">Memory Usage Threshold (%)</label>
                      <input type="number" id="memoryUsageThreshold" value="85" min="50" max="95" />
                    </div>
                    <div class="form-row">
                      <label for="responseTimeThreshold">Response Time Threshold (ms)</label>
                      <input type="number" id="responseTimeThreshold" value="5000" min="1000" max="30000" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Email Alerts</div>
                        <div class="setting-desc">Send email alerts for issues</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="emailAlerts" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">SMS Alerts</div>
                        <div class="setting-desc">Send SMS alerts for critical issues</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="smsAlerts" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Webhook Alerts</div>
                        <div class="setting-desc">Send webhook alerts for issues</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="webhookAlerts" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="alertRecipients">Alert Recipients</label>
                      <textarea id="alertRecipients" rows="2" placeholder="admin@mbelyco.com&#10;devops@mbelyco.com&#10;+250788123456"></textarea>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="permissions" class="settings-panel">
              <div class="panel-header">
                <h2>Role Permissions</h2>
                <p class="muted">Manage user roles and their system permissions</p>
              </div>
              <div class="panel-body">
                <div class="form-section">
                  <div class="section-header">
                    <h3>User Roles</h3>
                    <button class="btn primary" id="addRoleBtn">
                      <i data-lucide="plus"></i>
                      Add Role
                    </button>
                  </div>
                  <div class="roles-list" id="rolesList">
                    <!-- Roles will be populated dynamically -->
                  </div>
                </div>

                <div class="form-section">
                  <h3>Permission Matrix</h3>
                  <div class="permission-matrix">
                    <div class="matrix-header">
                      <div class="permission-category">System Functions</div>
                      <div class="role-columns" id="roleColumns">
                        <!-- Role columns will be populated dynamically -->
                      </div>
                    </div>
                    <div class="matrix-body" id="permissionMatrix">
                      <!-- Permission rows will be populated dynamically -->
                    </div>
                  </div>
                </div>


                <div class="form-section">
                  <h3>Access Control Policies</h3>
                  <div class="form-grid">
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Require Role Approval</div>
                        <div class="setting-desc">New role assignments require admin approval</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="requireRoleApproval" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Auto-Expire Temporary Roles</div>
                        <div class="setting-desc">Automatically expire temporary role assignments</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="autoExpireRoles" />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="roleExpirationDays">Default Role Expiration (Days)</label>
                      <input type="number" id="roleExpirationDays" value="90" min="1" max="365" />
                    </div>
                    <div class="setting-item">
                      <div class="setting-info">
                        <div class="setting-title">Log Role Changes</div>
                        <div class="setting-desc">Log all role assignment and permission changes</div>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="logRoleChanges" checked />
                        <span class="slider"></span>
                      </label>
                    </div>
                    <div class="form-row">
                      <label for="roleChangeNotification">Role Change Notification Email</label>
                      <input type="email" id="roleChangeNotification" value="admin@mbelyco.com" placeholder="admin@mbelyco.com" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
      </div>

        <!-- Settings Actions -->
        <div class="settings-actions">
          <div class="settings-actions-left">
            <button class="btn ghost" id="exportSettings">
              <i data-lucide="download"></i>
              Export
            </button>
            <label class="btn ghost" for="importSettings">
              <i data-lucide="upload"></i>
              Import
              <input type="file" id="importSettings" accept=".json" style="display: none;" />
            </label>
          </div>
          <div class="settings-actions-right">
            <button class="btn ghost" id="resetSettings">Reset to Defaults</button>
            <button class="btn primary" id="saveSettings">Save Settings</button>
          </div>
        </div>
    </section>
  </main>

  <!-- Download Modal -->
  <div id="downloadModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="downloadTitle" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3 id="downloadTitle">Download Promo Codes</h3>
        <button class="icon-btn" id="downloadClose" aria-label="Close">âœ–</button>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <label>Download Format *</label>
          <div class="option-group" id="dlFormatGroup">
            <label class="option-card">
              <input type="radio" name="dlFormat" value="pdf" checked />
              <div class="option-content">
                <div class="option-title">PDF Format</div>
                <div class="option-sub">12 codes per A4 page</div>
              </div>
            </label>
            <label class="option-card">
              <input type="radio" name="dlFormat" value="csv" />
              <div class="option-content">
                <div class="option-title">CSV Format</div>
                <div class="option-sub">Spreadsheet compatible</div>
              </div>
            </label>
          </div>
        </div>
        <div class="form-row">
          <label>Select Batch</label>
          <div class="select-wrap">
            <select id="downloadBatch"></select>
            <i data-lucide="chevron-down"></i>
          </div>
        </div>
        <div class="form-row">
          <label>Status Filter</label>
          <div class="select-wrap">
            <select id="downloadStatus">
              <option value="all">All Statuses</option>
              <option value="active" selected>Active</option>
              <option value="used">Used</option>
              <option value="redeemed">Redeemed</option>
              <option value="expired">Expired</option>
              <option value="blocked">Blocked</option>
            </select>
            <i data-lucide="chevron-down"></i>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn ghost" id="downloadCancel">Cancel</button>
        <button class="btn ghost" id="cancelDownloadBtn" style="display: none;">Cancel</button>
        <button class="btn primary" id="downloadConfirm">Download</button>
      </div>
    </div>
  </div>

  <!-- Generate Codes Form Modal -->
  <div id="generateFormModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="generateFormTitle" aria-hidden="true">
    <div class="modal-dialog" style="max-width:720px">
      <div class="modal-header">
        <h3 id="generateFormTitle">Create Batch & Generate Codes</h3>
        <button class="icon-btn" id="generateFormClose" aria-label="Close">âœ–</button>
      </div>
      <div class="modal-body">
        <form id="generateForm" class="form-grid" novalidate>
          <div class="form-row">
            <label>Batch Name *</label>
            <input id="gfName" type="text" placeholder="Enter batch name" required />
          </div>
          <div class="form-grid-2">
            <div class="form-row">
              <label>Total Codes *</label>
              <input id="gfTotal" type="number" placeholder="Enter number of codes" min="1" max="100000" required />
            </div>
            <div class="form-row">
              <label>Amount per Code *</label>
              <input id="gfAmount" type="number" placeholder="Enter amount" min="1" required />
            </div>
          </div>
          <div class="form-row">
            <label>Currency</label>
            <select id="gfCurrency">
              <option value="RWF" selected>RWF - Rwandan Franc</option>
              <option value="USD">USD - US Dollar</option>
              <option value="EUR">EUR - Euro</option>
            </select>
          </div>
          <div class="form-row">
            <label>Expiration Date *</label>
            <input id="gfExpiry" type="date" required />
          </div>
          <div class="form-row">
            <label>Assign to User</label>
            <select id="gfUser">
              <option value="">Select user...</option>
              <option value="1">Elyse Mbonyumukunzi</option>
              <option value="2">Beathe Umwali</option>
            </select>
          </div>
          <div class="form-row">
            <label>Description</label>
            <textarea id="gfDesc" rows="4" placeholder="Enter batch description"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn ghost" id="generateFormCancel">Cancel</button>
        <button class="btn primary" id="generateFormSubmit">Generate</button>
      </div>
    </div>
  </div>

  <!-- Generating Progress Modal -->
  <div id="generatingModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="generatingTitle" aria-hidden="true">
    <div class="modal-dialog" style="max-width:720px">
      <div class="modal-header">
        <h3 id="generatingTitle">Generate Promo Codes</h3>
        <button class="icon-btn" id="generatingClose" aria-label="Close">âœ–</button>
      </div>
      <div class="modal-body" style="text-align:center">
        <div class="spinner"></div>
        <h4 style="margin:12px 0 6px">Generating Codes...</h4>
        <p class="muted">Please wait while we generate your promo codes</p>
        <div class="progress" style="justify-content:center;margin-top:12px">
          <div class="progress-bar" style="width:100%;max-width:560px">
            <span id="genProgressFill" style="width:0%"></span>
          </div>
        </div>
        <div id="genProgressText" class="muted" style="margin-top:6px">0 of 0 codes generated</div>
        <div id="genEtaText" class="muted" style="margin-top:4px">ETA: --s</div>
      </div>
    </div>
  </div>

  <!-- Download Progress Modal -->
  <div id="downloadProgressModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="downloadProgressTitle" aria-hidden="true">
    <div class="modal-dialog" style="max-width:720px">
      <div class="modal-header">
        <h3 id="downloadProgressTitle">Download Promo Codes</h3>
        <button class="icon-btn" id="downloadProgressClose" aria-label="Close">âœ–</button>
      </div>
      <div class="modal-body" style="text-align:center">
        <div class="spinner"></div>
        <h4 style="margin:12px 0 6px">Downloading Codes...</h4>
        <p class="muted">Please wait while we prepare your download</p>
        <div class="progress" style="justify-content:center;margin-top:12px">
          <div class="progress-bar" style="width:100%;max-width:560px">
            <span id="downloadProgressFill" style="width:0%"></span>
          </div>
        </div>
        <div id="downloadProgressText" class="muted" style="margin-top:6px">0 of 0 codes processed</div>
        <div id="downloadEtaText" class="muted" style="margin-top:4px">ETA: --s</div>
      </div>
    </div>
  </div>

  <!-- Import Promo Codes Modal -->
  <div id="importModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="importTitle" aria-hidden="true">
    <div class="modal-dialog" style="max-width:720px">
      <div class="modal-header">
        <h3 id="importTitle">Import Promo Codes</h3>
        <button class="icon-btn" id="importClose" aria-label="Close">âœ–</button>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <label>Upload CSV File *</label>
          <div id="importDrop" class="dropzone" role="button" tabindex="0" aria-label="Drop CSV or click to browse">
            <div class="drop-inner">
              <i data-lucide="upload-cloud"></i>
              <div class="drop-title">Drop your CSV file here or click to browse</div>
              <div class="muted">Supported format: CSV (max 10MB)</div>
            </div>
          </div>
          <input type="file" id="importFileModal" accept=".csv" hidden />
        </div>

        <div class="form-row">
          <label>Import Options</label>
          <div class="import-options">
            <label><input type="checkbox" id="importSkipDup" checked /> Skip duplicate codes</label>
            <label><input type="checkbox" id="importValidate" checked /> Validate code format</label>
            <label><input type="checkbox" id="importNotify" /> Send notification on completion</label>
          </div>
        </div>

        <div class="form-row template-center">
          <label>CSV Template</label>
          <button class="btn accent" id="downloadCsvTemplate" type="button">Download Template</button>
        </div>

        <!-- Progress Container -->
        <div class="progress-container" style="display: none; text-align: center;">
          <div class="spinner"></div>
          <h4 style="margin:12px 0 6px">Importing Codes...</h4>
          <p class="muted">Please wait while we import your codes</p>
          <div class="progress" style="justify-content:center;margin-top:12px">
            <div class="progress-bar" style="width:100%;max-width:560px">
              <span id="importProgressFill" style="width:0%"></span>
            </div>
          </div>
          <div id="importProgressText" class="muted" style="margin-top:6px">0 of 0 codes imported</div>
          <div id="importEtaText" class="muted" style="margin-top:4px">ETA: --s</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn ghost" id="importCancel">Cancel</button>
        <button class="btn ghost" id="cancelImportBtn" style="display: none;">Cancel</button>
        <button class="btn primary" id="importBtn">Import Codes</button>
      </div>
    </div>
  </div>


  <!-- Toasts -->
  <div id="toastHost" class="toast-host" aria-live="polite" aria-atomic="true"></div>

  <!-- jsPDF UMD build -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script>
      (function() {
        const user = JSON.parse(sessionStorage.getItem('loggedInUser'));
        if (user && user.role === 'manager') {
          window.location.href = './verify.html';
        }
      })();
    </script>
  <script src="./api-integration-generate.js"></script>
  <script src="./api-integration-download.js"></script>
  <script src="./api-integration-import.js"></script>
  <script src="./app.js"></script>
  <script>
    window.lucide && window.lucide.createIcons();
  </script>
</body>
</html>